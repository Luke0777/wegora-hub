@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --radius-sm: calc(var(--radius) * 0.5);
  --radius-md: var(--radius);
  --radius-lg: calc(var(--radius) * 1.5);
  --radius-xl: calc(var(--radius) * 2);
  --radius-2xl: calc(var(--radius) * 3);
  --radius-full: 9999px;
}

@layer base {
  * {
    box-sizing: border-box;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    /* Prevent text size adjustment on iOS */
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    /* Prevent horizontal scrolling */
    overflow-x: hidden;
  }

  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Line clamp utilities */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
    line-clamp: 1;
  }
  
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    line-clamp: 2;
  }
  
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    line-clamp: 3;
  }

  /* Improved touch targets for mobile */
  @media (max-width: 768px) {
    input, button, select, textarea {
      font-size: 16px; /* Prevent zoom on iOS */
    }
  }

  /* Smooth transitions */
  button, input, select, textarea {
    transition: all 0.2s ease-in-out;
  }

  /* Focus styles for accessibility */
  button:focus-visible, 
  input:focus-visible, 
  select:focus-visible, 
  textarea:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* Date input styling improvements */
  input[type="date"] {
    cursor: pointer;
    position: relative;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    border: 1px solid hsl(var(--input));
    border-radius: calc(var(--radius) * 1);
    min-height: 40px;
    padding: 8px 12px;
    padding-right: 40px; /* Make space for calendar icon */
  }
  
  /* Show placeholder when no value */
  input[type="date"]:not([value]),
  input[type="date"][value=""] {
    color: transparent !important;
  }
  
  /* When focused or has value, show normal text color */
  input[type="date"]:focus,
  input[type="date"][value]:not([value=""]) {
    color: hsl(var(--foreground)) !important;
  }

  /* Style the calendar icon */
  input[type="date"]::-webkit-calendar-picker-indicator {
    position: absolute;
    top: 50%;
    right: 32px; /* Move left to make space for clear button */
    transform: translateY(-50%);
    opacity: 0.6;
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    background-size: 16px;
    width: 16px;
    height: 16px;
    filter: invert(0.5);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3e%3cpath fill-rule='evenodd' d='M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z' clip-rule='evenodd'/%3e%3c/svg%3e");
  }
  
  input[type="date"]:hover::-webkit-calendar-picker-indicator {
    background-color: hsl(var(--muted));
    opacity: 0.8;
    filter: invert(0.3);
  }

  input[type="date"]:focus::-webkit-calendar-picker-indicator {
    opacity: 1;
    filter: invert(0.2);
  }

  /* Spinner animation for loading states */
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  .spinner {
    animation: spin 1s linear infinite;
  }

  /* Ensure proper text color in all date input parts */
  input[type="date"]::-webkit-datetime-edit,
  input[type="date"]::-webkit-datetime-edit-text,
  input[type="date"]::-webkit-datetime-edit-month-field,
  input[type="date"]::-webkit-datetime-edit-day-field,
  input[type="date"]::-webkit-datetime-edit-year-field {
    color: inherit;
    padding: 0 2px;
  }

  /* Hide the ugly default date format when empty */
  input[type="date"]:not([value])::-webkit-datetime-edit,
  input[type="date"][value=""]::-webkit-datetime-edit {
    color: transparent !important;
  }

  /* Better focus ring for date inputs */
  input[type="date"]:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
    border-color: hsl(var(--ring));
  }

  /* Custom date input wrapper for better UX */
  .date-input-wrapper {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  /* Hide native date picker when showing custom placeholder */
  .date-input-wrapper input[type="date"]:not([value])::-webkit-datetime-edit,
  .date-input-wrapper input[type="date"][value=""]::-webkit-datetime-edit {
    visibility: hidden;
  }

  .date-input-wrapper input[type="date"]:focus::-webkit-datetime-edit {
    visibility: visible;
  }

  /* Empty date input styling */
  .date-input-empty::-webkit-datetime-edit {
    color: transparent !important;
  }
  
  .date-input-empty:focus::-webkit-datetime-edit {
    color: inherit !important;
  }
}

:root {
  /* Base colors that define the core visual identity */
  --background: 0 0% 100%;
  --foreground: 0 0% 4%;

  --card: 0 0% 100%;
  --card-foreground: 0 0% 4%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 4%;

  /* Action colors that represent interactive elements */
  --primary: 214 100% 50%;
  --primary-foreground: 0 0% 100%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 0 0% 4%;
  --accent: 237 62% 67%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;

  /* Supporting UI colors for various states and elements */
  --muted: 210 40% 98%;
  --muted-foreground: 215 16% 47%;
  --border: 214 32% 91%;
  --input: 214 32% 91%;
  --ring: 214 100% 50%;

  /* Border radius applied throughout the UI for consistent shape language */
  --radius: 0.5rem;
}
